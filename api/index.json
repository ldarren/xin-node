{ 
    "deps":{
		"util": "./util",
		"ums": "./ums",
		"config": "./config",
		"s3": "./s3",
		"web": ["context", "webServer"]
    },
    "routes":{
        "ERR/#msg":[
            []
        ],
        "END/#msg":[
            []
        ],
		"/s3/list":[
			["s3", "list", "emails"],
			["util", "output", "emails"],
			[]
		],
		"/s3/read/:key":[
			["s3", "read", "email"],
			["util", "output", "email"],
			[]
		],
		"/user/create": [
			["ums", "verify", "req", "jwt"],
			["web", "getBody", "req", "body"],
			["ums", "setUser", "jwt", "body", "output"],
			["util", "output", "output"],
			[]
		],
		"config/mailbox/create": [
			["web", "getBody", "req", "body"],
			["util", ["validate", {
				"name": {"type": "string", "required": "true"},
				"region": {"type": "string", "required": "true"},
				"Bucket": {"type": "string", "required": "true"},
				"IdentityPoolId": {"type": "string", "required": "true"},
				"UserPoolId": {"type": "string", "required": "true"},
				"ClientId": {"type": "string", "required": "true"}
			}], "body"],
			["config", "set", "user", "body"],
			[]
		],
		"config/mailbox/list": [
			["config", "list", "user", ":output"],
			["util", "output", ":output"],
			[]
		],
		"/config/mailbox": [
			["ums", "verify", "req", "jwt"],
			["ums", "getUser", "jwt", "user"],
			["util", "branch", "req", {
				"POST": "config/mailbox/create",
				"GET": "config/mailbox/list"
			}]
		],
		"/config/mailbox/:name": [
			["util", "extractParams", "group"],
			["util", ["validate", {
				"name": {"type": "string", "required": true}
			}], "group"],
			["config", "get", "group"],
			["util", "output", "group"],
			[]
		],
        "/say/hello":[
            ["util", "sayNow"],
			[]
        ]
    }
}
